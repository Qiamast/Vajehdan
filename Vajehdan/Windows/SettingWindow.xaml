<Window
    x:Class="Vajehdan.Windows.SettingWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:properties="clr-namespace:Vajehdan.Properties"
    xmlns:scm="clr-namespace:System.ComponentModel;assembly=WindowsBase"
    Name="SettingsWindow"
    Title="SettingsWindow"
    Width="491"
    Height="515"
    FontFamily="{StaticResource IranSans}"
    Left="{Binding Source={x:Static properties:Settings.Default}, Path=SettingLeftPos, Mode=TwoWay}"
    MouseDown="SettingWindow_OnMouseDown"
    Style="{StaticResource WindowStyle}"
    Top="{Binding Source={x:Static properties:Settings.Default}, Path=SettingTopPos, Mode=TwoWay}"
    mc:Ignorable="d">

    <Window.Resources>
        <CollectionViewSource x:Key="SortedFontsCollection" Source="{Binding Source={x:Static Fonts.SystemFontFamilies}}">
            <CollectionViewSource.SortDescriptions>
                <scm:SortDescription PropertyName="Source" />
            </CollectionViewSource.SortDescriptions>
        </CollectionViewSource>
    </Window.Resources>

    <Border Style="{StaticResource BorderStyle}">

        <StackPanel>

            <Button
                Width="25"
                Height="25"
                HorizontalAlignment="Right"
                VerticalAlignment="Center"
                Click="Button_Click"
                Content="x"
                Style="{StaticResource ButtonStyle1}" />

            <TextBlock Style="{StaticResource WindowTitleStyle}" Text="تنظیمات برنامه" />

            <CheckBox
                Name="StartupCheckBox"
                Margin="0,25,15,0"
                Content="اجرای برنامه در شروع ویندوز"
                FlowDirection="RightToLeft"
                IsChecked="{Binding Source={x:Static properties:Settings.Default}, Path=StartByWindows, Mode=TwoWay}"
                Style="{StaticResource SliderCheckBox}" />

            <CheckBox
                Name="MinimizeType"
                Margin="0,5,15,0"
                Content="نمایش آیکون برنامه در نوار وظیفه "
                FlowDirection="RightToLeft"
                IsChecked="{Binding Source={x:Static properties:Settings.Default}, Path=ShowInTaskbar, Mode=TwoWay}"
                Style="{StaticResource SliderCheckBox}" />

            <CheckBox
                Name="MinimizeWhenClickOutside"
                Margin="0,5,15,0"
                Content="‌پنهان کردن برنامه هنگام کلیک خارج از پنجرۀ جستجو"
                FlowDirection="RightToLeft"
                IsChecked="{Binding Source={x:Static properties:Settings.Default}, Path=MinimizeWhenClickOutside, Mode=TwoWay}"
                Style="{StaticResource SliderCheckBox}" />

            <CheckBox
                Name="TopMostWindow"
                Margin="0,5,15,0"
                Content="‌نمایش بالای همۀ پنجره‌ها"
                FlowDirection="RightToLeft"
                IsChecked="{Binding Source={x:Static properties:Settings.Default}, Path=TopMostWindow, Mode=TwoWay}"
                Style="{StaticResource SliderCheckBox}" />

            <StackPanel
                Margin="0,10,19,0"
                FlowDirection="RightToLeft"
                Orientation="Horizontal" />

            <GroupBox
                Width="350"
                Margin="0,20,0,0"
                Padding="10"
                FlowDirection="RightToLeft">
                <GroupBox.Header>
                    <TextBlock FontWeight="Bold" Text="تنظیم کلید میانبر " />
                </GroupBox.Header>
                <GroupItem>
                    <StackPanel>
                        <TextBlock
                            Margin="0,0,0,5"
                            HorizontalAlignment="Center"
                            FlowDirection="RightToLeft"
                            Text="در کادر پایین کلید میانبر مورد نظر را فشار دهید:"
                            TextWrapping="Wrap" />

                        <TextBox
                            Name="textBox"
                            Width="205"
                            Height="23"
                            Padding="10,0"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            FlowDirection="LeftToRight"
                            FontFamily="calibri"
                            FontSize="13"
                            FontWeight="Light"
                            Foreground="DimGray"
                            KeyDown="TextBox_OnKeyDown"
                            Text="{Binding Source={x:Static properties:Settings.Default}, Path=ShortcutKey, Mode=TwoWay}" />
                    </StackPanel>
                </GroupItem>
            </GroupBox>

            <StackPanel Margin="0,20,0,0" HorizontalAlignment="Center">

                <GroupBox
                    Width="350"
                    Padding="10"
                    FlowDirection="RightToLeft">
                    <GroupBox.Header>
                        <TextBlock FontWeight="Bold" Text="فونت " />
                    </GroupBox.Header>
                    <GroupItem>
                        <StackPanel Orientation="Horizontal">
                            <ComboBox
                                x:Name="Fonts"
                                Width="150"
                                Height="23"
                                Margin="0,12,0,0"
                                Padding="10,0"
                                FlowDirection="LeftToRight"
                                FontFamily="calibri thin"
                                FontSize="12"
                                FontWeight="Thin"
                                Foreground="DimGray"
                                IsSynchronizedWithCurrentItem="True"
                                IsTextSearchCaseSensitive="False"
                                IsTextSearchEnabled="True"
                                SelectedItem="{Binding Source={x:Static properties:Settings.Default}, Path=Font, Mode=TwoWay}"
                                Style="{StaticResource ComboBoxFlatStyle}"
                                Text="{Binding Source={x:Static properties:Settings.Default}, Path=Font, Mode=OneWay}">
                                <ComboBox.ItemsSource>
                                    <CompositeCollection>
                                        <ComboBoxItem
                                            Content="فونت پیش‌فرض"
                                            FlowDirection="RightToLeft"
                                            FontFamily="{StaticResource IranSans}"
                                            FontSize="11"
                                            FontWeight="Bold"
                                            Foreground="Black" />
                                        <CollectionContainer Collection="{Binding Source={StaticResource SortedFontsCollection}}" />
                                    </CompositeCollection>
                                </ComboBox.ItemsSource>
                            </ComboBox>
                            <StackPanel>
                                <TextBlock
                                    Margin="15,0,0,-8"
                                    FontFamily="{StaticResource IranSansNum}"
                                    Text="{Binding ElementName=FontSize, Path=Value}"
                                    TextAlignment="Center" />
                                <Slider
                                    x:Name="FontSize"
                                    Width="165"
                                    Height="23"
                                    Margin="10,0,0,0"
                                    FlowDirection="LeftToRight"
                                    FontFamily="{StaticResource IranSansNum}"
                                    FontSize="12"
                                    Foreground="DimGray"
                                    Maximum="20"
                                    Minimum="10"
                                    Style="{StaticResource Horizontal_Slider}"
                                    Value="{Binding Source={x:Static properties:Settings.Default}, Path=FontSize, Mode=TwoWay}" />

                            </StackPanel>

                        </StackPanel>
                    </GroupItem>
                </GroupBox>





            </StackPanel>

            <Button
                Name="ResetButton"
                Width="140"
                Height="30"
                Margin="0,18,0,0"
                Click="ResetButton_OnClick"
                Content="تنظیمات پیش‌فرض"
                Style="{StaticResource ButtonStyle2}" />

        </StackPanel>

    </Border>

</Window>
